<!DOCTYPE html>
<html>
<head>
	<title>myMvvm</title>
	<meta charset="utf-8">
</head>
<body>
	<div id="message">
	    <h1 lulu-text="message"></h1>
	    <span lulu-show="show">看不见我看不见我</span>
	    <ul>
			<li lulu-for="item in list" lulu-on:click="removeElement">
                {{ item.name }}
			</li>
	    </ul>
	    <input type="text" lulu-model="message"/>
	    <input type="button" value="点我呀" lulu-on:click="clickEvent">
	</div>
<script type="text/javascript" src="./js/mvvm.js"></script>
<script type="text/javascript">
	new mvvm({
            el:'#message',
            data: {
                message: '这是一个todolist',
                show: false,
                list: [
                	{ name: 'lulu'},
                	{ name: 'tom'},
                	{ name: 'lucy'},
                	{ name: 'susan'}
                ]
            },
            methods: {
            	clickEvent: function(){
                    var newObj = {};
                    newObj.name = this.data.message;
                    this.data.list.push(newObj);
			    },
                removeElement: function(){
                    var childNodes = event.target.parentNode.childNodes;
                    for(var i = 0;i < childNodes.length; i++){
                        if(event.target == childNodes[i]){
                            this.data.list.splice(i,1);
                        }
                    }  
                }
            }
	});
</script>
</body>
</html>